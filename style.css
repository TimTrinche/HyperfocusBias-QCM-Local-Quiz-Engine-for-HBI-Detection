
:root{
  --c1: 222 92% 60%;
  --c2: 262 90% 62%;
  --c3: 305 88% 60%;
  --c4: 16  96% 56%;
  --text: #0a0a0a;
  --muted: #444;
  --bg: #fafafa;
  --card: #fff;
  --border: rgba(0,0,0,.12);
}
* { box-sizing: border-box; }
body{ margin:0; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color: var(--text); background: var(--bg); }
.container{ max-width:1100px; margin:40px auto; padding:16px; }
h1,h2{ margin:0 0 12px 0; }
p{ color:var(--muted); line-height:1.55; }
.note{ font-size:.9rem; color:#666; }

.screen{ display:none; background:var(--card); border:1px solid var(--border); border-radius:16px; padding:20px; }
.screen.visible{ display:block; }
.fade-in{ animation: fade .4s ease-out both; }
@keyframes fade{ from{ opacity:0; transform: translateY(6px);} to{opacity:1; transform:none;} }

.grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:14px; }
label{ display:flex; flex-direction:column; gap:6px; color:#222; }
select, input[type="number"], input[type="text"]{ height:44px; border:1px solid var(--border); border-radius:12px; padding:0 10px; background:#fff; color:#111; }
.actions{ margin-top:16px; display:flex; gap:10px; }
.actions.full{ justify-content: center; }

.btn-rumba{
  --h:48px; --pad-x:16px;
  position:relative; display:inline-grid; grid-auto-flow:column; align-items:center; gap:10px;
  height:var(--h); padding:0 var(--pad-x); border-radius:999px; isolation:isolate;
  color:#111; text-decoration:none; white-space:nowrap; background: transparent; border:1.5px solid hsl(0 0% 0% / .28);
  box-shadow:0 10px 26px rgba(0,0,0,.08); transition: box-shadow .18s ease; overflow:hidden;
}
.btn-rumba .label{ position:relative; z-index:1; }
.btn-rumba::before{
  content:""; position:absolute; inset:-1px; border-radius:inherit; z-index:-1;
  background: conic-gradient(from 0deg, hsl(var(--c1)), hsl(var(--c2)), hsl(var(--c3)), hsl(var(--c4)), hsl(var(--c1)));
  padding:1.6px; opacity:.9;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
}
.btn-rumba:hover::before{ animation: spin 2.2s linear infinite; }
@keyframes spin{ to{ transform: rotate(1turn); } }

.consent{ display:flex; gap:10px; align-items:center; padding:12px; border:1px dashed var(--border); border-radius:12px; }

.coin{ width:100px; height:100px; border-radius:50%; border:1px solid var(--border); margin:16px auto;
  background: radial-gradient(circle at 30% 30%, #e3e3e3, #cfcfcf); animation: flip 1.2s ease-in-out 1; }
@keyframes flip{ 0%{ transform: rotateY(0deg);} 50%{ transform: rotateY(1800deg) scale(1.06);} 100%{ transform: rotateY(3600deg);} }
.dice{ font-size: 56px; text-align:center; }
.hidden{ display:none; }
.result{ text-align:center; font-weight:600; }

.qcm-wrapper{ overflow-x:auto; border:1px solid var(--border); border-radius:14px; margin-top:8px; }
.qcm-track{ display:flex; gap:12px; padding:12px; scroll-snap-type: x mandatory; }
.card{ min-width: 320px; flex:0 0 320px; scroll-snap-align: start; border:1px solid var(--border); border-radius:12px; padding:12px; background:#fff; }
.card h4{ margin:0 0 8px 0; }
.choice{ display:block; border:1px solid var(--border); border-radius:10px; padding:10px; margin-top:8px; cursor:pointer; }
.choice.selected{ outline:2px solid rgba(99,102,241,.5); }
.choice.correct{ background:#eaffea; border-color:#a0dea0; }
.choice.wrong{ background:#ffecec; border-color:#f1b0b0; }

.llm-panel{ margin-top:12px; border:1px solid var(--border); border-radius:12px; padding:12px; background:#fff; }
.status{ color:#555; font-size:.95rem; margin-bottom:8px; }
.chat-log{ background:#f6f6f6; border:1px solid var(--border); border-radius:10px; padding:8px; min-height:80px; max-height:200px; overflow:auto; }
.chat-msg{ padding:6px 8px; margin:6px 0; border-radius:8px; }
.chat-msg.user{ background:#e9f1ff; }
.chat-msg.llm{ background:#eeffee; }
.chat-input{ display:flex; gap:8px; margin-top:8px; }
.chat-input input{ flex:1; height:42px; border:1px solid var(--border); border-radius:10px; padding:0 10px; }
